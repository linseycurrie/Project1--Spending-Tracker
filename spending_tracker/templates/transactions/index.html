{% extends 'base.html' %}
{% block content %}


<h2>Transactions</h2>
<br>
<section>
<form action="/transactions/new">
    <button>Add Transaction</button></form>

<form action="/transactions">
    <button>View Full List</button></form>
</section>
<hr>



<table class="table" style="width:80%;">
    <thead>
    <tr>
        <th>User</th>
        <th>Category</th>
        <th>Merchant</th>
        <th>Amount</th>
        <th>Date</th>
        <th>Edit</th>
        <th>Delete</th>
    </tr>
    </thead>

    {% for transaction in transactions  %}
    <tbody>

    <tr>
        <td style="text-align: center;">{{transaction.user.name}}</td>
        <td style="text-align: center;">{{transaction.category.name}}</td>
        <td style="text-align: center;">{{transaction.merchant.name}}</td>
        <td style="text-align: center;">{{transaction.amount}}</td>
        <td style="text-align: center;">{{transaction.date}}</td>
        <td style="text-align: center;"><form action="/transactions/{{transaction.id}}/edit">
            <button>&#x270e;</button> </form></td>
        <td style="text-align: center;"><form action="/transactions/{{transaction.id}}/delete" method="POST">
            <button>&#128465;</button>  </form></td>
    </tr>
    {% endfor %}
    <tfoot>
        <tr>
            <th id="total" colspan="2" style="text-align: center;">Total: </th>
            <td style="text-align: center;"><u>{{total}}</u></td>
        </tr>
    </tbody> 
</table>





{% endblock %}